# Claude Bot Infrastructure Configuration
# Copy this file to .env and configure for your project

# ============================================================================
# REQUIRED: API KEYS AND TOKENS
# ============================================================================

# Anthropic API Key for Claude Code
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# GitHub Personal Access Token for creating PRs and managing issues
# Needs: repo, workflow, write:packages permissions
# Get from: https://github.com/settings/tokens
GITHUB_TOKEN=your_github_token_here

# ============================================================================
# PROJECT CONFIGURATION
# ============================================================================

# GitHub repository in owner/repo format
TARGET_REPO=yourusername/your-repo

# Path to the project directory (when mounting locally)
# Default: /workspace (inside container)
PROJECT_PATH=/workspace

# Bot identifier (used for status reporting and logging)
BOT_ID=claude-bot

# GitHub label that triggers bot action on issues
BOT_LABEL=claude-bot

# ============================================================================
# GIT CONFIGURATION
# ============================================================================

# Git author information for commits made by the bot
GIT_AUTHOR_NAME=Your Name
GIT_AUTHOR_EMAIL=your.email@example.com
GIT_COMMITTER_NAME=Your Name  
GIT_COMMITTER_EMAIL=your.email@example.com

# ============================================================================
# BOT BEHAVIOR
# ============================================================================

# How often to check for new issues (minutes)
ISSUE_CHECK_INTERVAL=15

# How often to check for PR feedback (minutes)
PR_CHECK_INTERVAL=30

# How often to report status (seconds)
STATUS_REPORT_INTERVAL=300

# Enable PR feedback handling (true/false)
ENABLE_PR_FEEDBACK=true

# ============================================================================
# PERFORMANCE SETTINGS
# ============================================================================

# Maximum number of concurrent tasks
MAX_CONCURRENT_TASKS=3

# Task execution timeout (seconds)
TASK_TIMEOUT=3600

# API retry configuration
API_RETRY_ATTEMPTS=3
API_RETRY_DELAY=1.0

# ============================================================================
# PATHS AND DIRECTORIES
# ============================================================================

# Bot data directory (persistent storage)
BOT_DATA_DIR=/bot/data

# Bot logs directory
BOT_LOG_DIR=/bot/logs

# Configuration file (optional, overrides env vars)
# BOT_CONFIG_FILE=/bot/config/bot-config.yml

# ============================================================================
# SERVICE URLS
# ============================================================================

# Status web dashboard URL
STATUS_WEB_URL=http://claude-status-web:5000

# Prometheus Pushgateway URL (optional)
# PROMETHEUS_PUSHGATEWAY_URL=http://pushgateway:9091

# ============================================================================
# MONITORING AND LOGGING
# ============================================================================

# Enable Prometheus metrics (true/false)
ENABLE_METRICS=true

# Enable structured JSON logging (true/false)
ENABLE_STRUCTURED_LOGGING=false

# Debug mode (verbose logging)
DEBUG_MODE=false

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ============================================================================
# SECURITY SETTINGS
# ============================================================================

# User to run bot as (inside container)
RUN_AS_USER=bot

# Comma-separated list of allowed repositories (empty = all allowed)
# ALLOWED_REPOSITORIES=owner/repo1,owner/repo2

# Rate limit per hour (API calls)
RATE_LIMIT_PER_HOUR=100

# ============================================================================
# DOCKER-SPECIFIC SETTINGS
# ============================================================================

# Docker network name (for container communication)
# DOCKER_NETWORK=claude-bot-infrastructure_default

# Container restart policy
# RESTART_POLICY=unless-stopped

# ============================================================================
# PRODUCTION DEPLOYMENT
# ============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Enable health checks (true/false)
ENABLE_HEALTH_CHECKS=true

# Health check interval (seconds)
HEALTH_CHECK_INTERVAL=30

# Secrets management (optional)
# SECRETS_PROVIDER=env  # Options: env, vault, aws-secrets-manager
# VAULT_URL=http://vault:8200
# VAULT_TOKEN=your_vault_token

# ============================================================================
# FEATURE FLAGS (Advanced)
# ============================================================================

# Enable experimental features
# ENABLE_EXPERIMENTAL_FEATURES=false

# Enable dry-run mode (no actual changes)
# DRY_RUN_MODE=false

# Enable webhook notifications
# ENABLE_WEBHOOKS=false
# WEBHOOK_URL=https://your-webhook-endpoint.com